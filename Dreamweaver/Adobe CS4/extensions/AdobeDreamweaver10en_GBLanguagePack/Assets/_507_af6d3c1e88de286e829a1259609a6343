<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!--#config errmsg="" --><!-- saved from url=(0022)http://help.adobe.com/ -->
<html lang="en-us">
    <head>
        <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
        <meta name="lang" content="en-us" />
        <meta name="area" content="livedocs" />
        <title>Dreamweaver CS4 * Creating code blocks</title>
        <meta name="product" content="$product" />
        <meta name="productv" content="" />
        <meta name="keywords" content="" />
        <script type="text/javascript" language="Javascript" charset="UTF-8"><!--[CDATA[
        var currentTreeNode = "WSc78c5058ca073340dcda9110b1f693f21-7954a.html";
// ]]--></script>
<script src="terms.js" type="text/javascript" language="Javascript" charset="UTF-8">...</script> <script src="help.js" type="text/javascript" language="Javascript" charset="UTF-8">...</script>  <script src="utilities.js" type="text/javascript" language="Javascript" charset="UTF-8">...</script> <script src="event.js" type="text/javascript" language="Javascript" charset="UTF-8">...</script> <script src="treeview.js" type="text/javascript" language="Javascript" charset="UTF-8">...</script> <script src="toc.js" language="Javascript" type="text/javascript" charset="UTF-8">..</script> 
<script type="text/javascript">
<!--[CDATA[
var headId = document.getElementsByTagName("head")[0];         
if (use_ie_6_behavior) {
    var linkId = document.createElement("link");
    linkId.href = "content-ie6.css";
    linkId.rel = "stylesheet";
    linkId.type = "text/css";
    headId.appendChild(linkId);
}
// ]]-->
</script>
<!--#include virtual="/livedocs/ssi/globalheader.ssi" -->
        <link rel="stylesheet" type="text/css" href="tree.css" />
        <link rel="stylesheet" type="text/css" href="content-fonts.css" />
        <link rel="stylesheet" type="text/css" href="content-hyperlinks.css" />
        <link rel="stylesheet" type="text/css" href="content.css" />
        <link rel="stylesheet" type="text/css" href="localeSpecific.css" />
    </head>
    <body id="content_body" onload="window.focus();">
        <a name="top"></a><div id="mnemonic">
            <div class="Dreamweaver"><table><tr><td class="banner">Dreamweaver CS4</td><td class="pod"><img src="images/PDF.gif" width="16" height="16" hspace="15" valign="50%" />&#160;&#160;
                     <a title="PDF" href="http://help.adobe.com/en_US/Dreamweaver/10.0_Using/dreamweaver_cs4_help.pdf">
                         PDF (adobe.com) 
                    </a></td></tr></table></div>
        </div>
        <div id="searchbar">
<!-- BEGIN SEARCH CONTENT -->
            <form class="search_form" id="search" name="search" action="search.html" target="_self">
                <img src="images/search.png" />
<script type="text/javascript">
<!--[CDATA[
function clearSearch(){
    if (document.search.q.value == terms_AHV_SEARCH_BUTTON){document.search.q.value = ""}; 
}
document.write('<input class=\"search_input\" \
        name=\"q\" \
        id=\"q\" \
        type=\"text\" \
        maxlength=\"256\" \
        value=\"' + terms_AHV_SEARCH_BUTTON + '\" onclick=\"clearSearch()\"><\/input>'); 
// ]]-->


</script> 
            </form>
        </div>
<!-- BEGIN PAGE CONTENT WRAPPER -->
        <div id="page_content_wrapper">
<!-- BEGIN PAGE WRAPPER -->
<table id="page_content_table">
<tr>
<td id="col1">
<!-- BEGIN IONCOMMENTCOUNT -->
            <div id="ionComCount">
            </div>
<!-- END IONCOMMENTCOUNT -->
<!-- BEGIN GROUP TOC WRAPPER -->
            <div id="group_toc"><p>Dreamweaver CS4 Resources</p><ul><li><p><a href="../../Dreamweaver/10.0/index.html" target="_blank">Using
Dreamweaver CS4</a></p>
</li><li><p><a href="http://help.adobe.com/en_US/Dreamweaver/10.0_Extending/index.html" target="_blank">Extending Dreamweaver CS4 (adobe.com)</a></p>
</li><li><p><a href="http://help.adobe.com/en_US/Dreamweaver/10.0_API_Ref/index.html" target="_blank">Dreamweaver API Reference (adobe.com)</a></p>
</li></ul></div>
<!-- END GROUP TOC WRAPPER -->
<!-- BEGIN NAV WRAPPER -->
            <div id="group_toc">
<script type="text/javascript">
<!--[CDATA[
if ( typeof(terms_BOOK_SHORT) != 'undefined' ) {
  document.write("<p>" + terms_BOOK_SHORT + "<\/p>");
}
// ]]-->


</script> 
            </div>
            <div id="nav_content">
            </div>
<!-- END NAV WRAPPER -->
</td>
<td id="col2">
<!-- BEGIN CONTENT WRAPPER -->
<!-- BEGIN BREADCRUMBS -->
            
            <div id="breadcrumb">
                
<ul class="navigation"><li class="prev"><a accesskey="p" class="prev" href="WSDDB8EE4F-A859-4d29-869F-38060A86D059a.html" title="Advanced options"><img src="images/blank.gif" alt="Previous" width="17" height="17" /></a></li><li class="next"><a accesskey="n" class="next" href="WS236D6363-1062-464c-BD8A-7576739DFACAa.html" title="Positioning a code block"><img src="images/blank.gif" alt="Next" width="17" height="17" /></a></li></ul><div class="hierarchy"><a href="WSc78c5058ca073340dcda9110b1f693f21-79bea.html">Making pages dynamic</a> /
     <a href="WSc78c5058ca073340dcda9110b1f693f21-7954a.html"><b>Adding custom server behaviors</b></a> 
     </div>

            </div>
<!-- END BREADCRUMBS -->
            <div id="content_wrapper">
<!-- BEGIN PAGE TITLE -->
                <h1>
                    Creating code blocks
                </h1>
<!-- END PAGE TITLE -->
                <div><p>The code blocks you create in the Server Behavior Builder
are encapsulated in a server behavior that appears in the Server
Behaviors panel. The code can be any valid run-time code for the
specified server model. For example, if you choose ColdFusion as
the document type for your custom server behavior, the code you write
must be valid ColdFusion code that runs on a ColdFusion application
server. </p>
<p>You can create the code blocks either directly in the Server
Behavior Builder, or you can copy and paste the code from other
sources. Each code block you create in the Server Behavior Builder
must be a single tag or script block. If you must insert multiple
tag blocks, split them into separate code blocks. </p>
<div class="section"><h4 class="sectiontitle">Conditions in code blocks</h4><p>Dreamweaver lets you develop code blocks
that incorporate control statements that execute conditionally.
The Server Behavior Builder uses <samp class="codeph">if</samp>, <samp class="codeph">elseif</samp>, and <samp class="codeph">else</samp> statements,
and may also contain server behavior parameters. This enables you
to insert alternate text blocks based on the values of OR relationships
among server behavior parameters. </p>
<p>The following example shows
the <samp class="codeph">if</samp>, <samp class="codeph">elseif</samp>, and <samp class="codeph">else</samp> statements.
The square brackets ([ ]) denote optional code and the asterisk
(*) denotes zero or more instances. To execute a portion of a code
block or the entire code block only if a certain condition or conditions
apply, use the following syntax:</p>
<pre>&lt;@ if (<dfn class="term">expression1</dfn>) @&gt;    <dfn class="term">conditional
text1</dfn>[&lt;@ elseif (<dfn class="term">expression2</dfn>) @&gt;    <dfn class="term">conditional text2</dfn>]*[&lt;@ else @&gt; 
    <dfn class="term">conditional text3</dfn>]&lt;@ endif @&gt;</pre>
<p>Condition
expressions can be any JavaScript expression that can be evaluated using
the JavaScript <samp class="codeph">eval()</samp> function, and may include
a server behavior parameter marked by @@’s. (The @@’s distinguish
the parameter from JavaScript variables and keywords.)</p>
</div>
<div class="section"><h4 class="sectiontitle">Effectively using conditional expressions</h4><p>When
using <samp class="codeph">if</samp>, <samp class="codeph">else</samp>, and <samp class="codeph">elseif</samp> directives
within the <samp class="codeph">insertText</samp> XML tag, the participant
text is preprocessed to resolve the <samp class="codeph">if</samp> directives
and to determine which text to include in the result. The <samp class="codeph">if</samp> and <samp class="codeph">elseif</samp> directives
take the expression as an argument. The condition expression is
the same as that for JavaScript condition expressions, and can also
contain server behavior parameters. Directives such as this allow
you to choose between alternative code blocks based on the values
of, or relationships between, server behavior parameters.</p>
<p>For
example, the following JSP code comes from a Dreamweaver server behavior that uses a conditional
code block:</p>
<pre>@@rsName@@.close(); 
&lt;@ if (@@callableName@@ != '') @&gt; 
@@callableName@@.execute(); 
@@rsName@@ = @@callableName@@.getResultSet();&lt;@ else @&gt; 
@@rsName@@ = Statement@@rsName@@.executeQuery(); 
&lt;@ endif @&gt; 
@@rsName@@_hasData = @@rsName@@.next();</pre>
<p>The conditional
code block starts with <samp class="codeph">&lt;@ if (@@callableName@@ != '')
@&gt;</samp> and ends with <samp class="codeph">&lt;@ endif @&gt;</samp>.
According to the code, if the user enters a value for the <samp class="codeph">@@callableName@@</samp> parameter
in the server behavior's Parameter dialog box—in other words, if
the <samp class="codeph">@@callableName@@</samp> parameter value is not null,
or <samp class="codeph">(@@callableName@@ != '')</samp>—then the conditional code
block is replaced with the following statements:</p>
<pre>@@callableName@@.execute(); 
@@rsName@@ = @@callableName@@.getResultSet();</pre>
<p>Otherwise,
the code block is replaced with the following statement:</p>
<pre>@@rsName@@ = Statement@@rsName@@.executeQuery();</pre>
</div>
</div>

                <div id="related">
                    <div class="separator">&#160;</div>
                    <div><p>&#160;<a href="WSc78c5058ca073340dcda9110b1f693f21-794da.html">Repeating code blocks with the loop directive</a></p>
</div>
                    
                </div>
                <div id="footer">
                    <p><img src="images/Community.png" />&#160;<a title="community help (adobe.com)" href="http://www.adobe.com/go/lr_Dreamweaver_community_en">community help (adobe.com)</a></p>
<!-- BEGIN IONCOMMENTS -->
                    <div id="ionComHere">
                    </div>
<!-- END IONCOMMENTS -->
<!--#include virtual="ionComments.ssi" -->
                    <p id="creativecommons"><a href="http://creativecommons.org/licenses/by-nc-sa/3.0/" id="creativecommons_text"><img id="creativecommons_img" src="images/CC.png" alt="This work is licensed under a Creative Commons Attribution-Noncommercial-Share Alike 3.0 Unported License" /></a></p>
                </div>
            </div>
<!-- END CONTENT WRAPPER -->
</td>
</tr>
</table>
        </div>
<!-- END PAGE CONTENT WRAPPER -->
<script type="text/javascript">
<!--[CDATA[
scrollToNameAnchor();
// ]]-->
</script> 
<!--#include virtual="/livedocs/ssi/globalfooter.ssi" -->
<!--#include virtual="/ubi/analytics/analytics_ssi.html" -->
    </body>
</html>