<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!--#config errmsg="" --><!-- saved from url=(0022)http://help.adobe.com/ -->
<html lang="es-es">
    <head>
        <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
        <meta name="lang" content="es-es" />
        <meta name="area" content="livedocs" />
        <title>Dreamweaver CS4 * Repetición de bloques de código con la directiva loop</title>
        <meta name="product" content="$product" />
        <meta name="productv" content="" />
        <meta name="keywords" content="" />
        <script type="text/javascript" language="Javascript" charset="UTF-8"><!--[CDATA[
        var currentTreeNode = "WSc78c5058ca073340dcda9110b1f693f21-7954a.html";
// ]]--></script>
<script src="terms.js" type="text/javascript" language="Javascript" charset="UTF-8">...</script> <script src="help.js" type="text/javascript" language="Javascript" charset="UTF-8">...</script>  <script src="utilities.js" type="text/javascript" language="Javascript" charset="UTF-8">...</script> <script src="event.js" type="text/javascript" language="Javascript" charset="UTF-8">...</script> <script src="treeview.js" type="text/javascript" language="Javascript" charset="UTF-8">...</script> <script src="toc.js" language="Javascript" type="text/javascript" charset="UTF-8">..</script> 
<script type="text/javascript">
<!--[CDATA[
var headId = document.getElementsByTagName("head")[0];         
if (use_ie_6_behavior) {
    var linkId = document.createElement("link");
    linkId.href = "content-ie6.css";
    linkId.rel = "stylesheet";
    linkId.type = "text/css";
    headId.appendChild(linkId);
}
// ]]-->
</script>
<!--#include virtual="/livedocs/ssi/globalheader.ssi" -->
        <link rel="stylesheet" type="text/css" href="tree.css" />
        <link rel="stylesheet" type="text/css" href="content-fonts.css" />
        <link rel="stylesheet" type="text/css" href="content-hyperlinks.css" />
        <link rel="stylesheet" type="text/css" href="content.css" />
        <link rel="stylesheet" type="text/css" href="localeSpecific.css" />
    </head>
    <body id="content_body" onload="window.focus();">
        <a name="top"></a><div id="mnemonic">
            <div class="Dreamweaver"><table><tr><td class="banner">Dreamweaver CS4</td><td class="pod"><img src="images/PDF.gif" width="16" height="16" hspace="15" valign="50%" />&#160;&#160;
                     <a title="PDF" href="http://help.adobe.com/es_ES/Dreamweaver/10.0_Using/dreamweaver_cs4_help.pdf">
                         PDF (adobe.com) 
                    </a></td></tr></table></div>
        </div>
        <div id="searchbar">
<!-- BEGIN SEARCH CONTENT -->
            <form class="search_form" id="search" name="search" action="search.html" target="_self">
                <img src="images/search.png" />
<script type="text/javascript">
<!--[CDATA[
function clearSearch(){
    if (document.search.q.value == terms_AHV_SEARCH_BUTTON){document.search.q.value = ""}; 
}
document.write('<input class=\"search_input\" \
        name=\"q\" \
        id=\"q\" \
        type=\"text\" \
        maxlength=\"256\" \
        value=\"' + terms_AHV_SEARCH_BUTTON + '\" onclick=\"clearSearch()\"><\/input>'); 
// ]]-->


</script> 
            </form>
        </div>
<!-- BEGIN PAGE CONTENT WRAPPER -->
        <div id="page_content_wrapper">
<!-- BEGIN PAGE WRAPPER -->
<table id="page_content_table">
<tr>
<td id="col1">
<!-- BEGIN IONCOMMENTCOUNT -->
            <div id="ionComCount">
            </div>
<!-- END IONCOMMENTCOUNT -->
<!-- BEGIN GROUP TOC WRAPPER -->
            <div id="group_toc"><p>Recursos de Dreamweaver CS4</p><ul><li><p><a href="../../Dreamweaver/10.0/index.html" target="_blank">Uso de Dreamweaver CS4</a></p>
</li><li><p><a href="http://help.adobe.com/es_ES/Dreamweaver/10.0_Extending/index.html" target="_blank">Ampliación de Dreamweaver CS4 (adobe.com)</a></p>
</li><li><p><a href="http://help.adobe.com/es_ES/Dreamweaver/10.0_API_Ref/index.html" target="_blank">Referencia API de Dreamweaver (adobe.com)</a></p>
</li></ul></div>
<!-- END GROUP TOC WRAPPER -->
<!-- BEGIN NAV WRAPPER -->
            <div id="group_toc">
<script type="text/javascript">
<!--[CDATA[
if ( typeof(terms_BOOK_SHORT) != 'undefined' ) {
  document.write("<p>" + terms_BOOK_SHORT + "<\/p>");
}
// ]]-->


</script> 
            </div>
            <div id="nav_content">
            </div>
<!-- END NAV WRAPPER -->
</td>
<td id="col2">
<!-- BEGIN CONTENT WRAPPER -->
<!-- BEGIN BREADCRUMBS -->
            
            <div id="breadcrumb">
                
<ul class="navigation"><li class="prev"><a accesskey="p" class="prev" href="WS236D6363-1062-464c-BD8A-7576739DFACAa.html" title="Colocación de un bloque de código"><img src="images/blank.gif" alt="Anterior" width="17" height="17" /></a></li><li class="next"><a accesskey="n" class="next" href="WSC069814B-664C-4eec-910E-0BCFCC4D4812a.html" title="Solicitud de un parámetros para el comportamiento del servidor"><img src="images/blank.gif" alt="Siguiente" width="17" height="17" /></a></li></ul><div class="hierarchy"><a href="WSc78c5058ca073340dcda9110b1f693f21-79bea.html">Creación de páginas dinámicas</a> /
     <a href="WSc78c5058ca073340dcda9110b1f693f21-7954a.html"><b>Adición de comportamientos de servidor personalizados</b></a> 
     </div>

            </div>
<!-- END BREADCRUMBS -->
            <div id="content_wrapper">
<!-- BEGIN PAGE TITLE -->
                <h1>
                    Repetición de bloques de código con la directiva loop
                </h1>
<!-- END PAGE TITLE -->
                <div><p>Para repetir una parte de un bloque de código o el bloque de código completo un número determinado de veces, utilice la siguiente sintaxis:</p>
<pre>&lt;@ loop (<dfn class="term">@@param1@@,@@param2@@</dfn>) @&gt;    <dfn class="term">code
block</dfn>&lt;@ endloop @&gt;</pre>
<div class="para">Al crear comportamientos de servidor, puede utilizar construcciones en bucle para repetir un bloque de código un número determinado de veces. <pre>&lt;@ loop (<dfn class="term">@@param1@@,@@param2@@,@@param3@@,@@param_n@@</dfn>) @&gt;    code block 
&lt;@ endloop @&gt;</pre>
La directiva de bucle (loop) acepta como argumentos una lista de matrices de parámetros separadas por comas.  En este caso, los argumentos de matrices de parámetros permiten al usuario proporcionar múltiples valores para un único parámetro.  El texto que debe repetirse se duplicará <dfn class="term">n</dfn> veces, siendo <dfn class="term">n</dfn> la longitud de los argumentos de matrices de parámetros.  Si se especifica más de un argumento de matrices de parámetros, todas las matrices deberán tener la misma longitud.  En la evaluación número <dfn class="term">i</dfn> del bucle, los elementos número <dfn class="term">i</dfn> de las matrices de parámetros reemplazarán a las instancias de los parámetros asociados en el bloque de código. </div>
<p>Al crear un cuadro de diálogo para el comportamiento de servidor, podrá añadir un control al cuadro de diálogo que permita al diseñador de la página crear matrices de parámetros.  Dreamweaver incluye un control de matrices sencillo que puede utilizar para crear cuadros de diálogo.  Este control, denominado Lista de campo de texto separada por comas, está disponible a través del Creador de comportamientos de servidor.  Para crear elementos de interfaz de usuario más complejos, consulte la documentación de la API para crear un cuadro de diálogo con un control que permita crear matrices (un control de cuadrícula, por ejemplo).</p>
<p>Puede anidar tantas condiciones o directivas loop (bucle) como desee dentro de una directiva condicional.  Por ejemplo, puede especificar que si una expresión es verdadera, se ejecute un bucle.</p>
<p>El siguiente ejemplo muestra cómo pueden utilizarse estos bloques de código repetidos para crear comportamientos de servidor (el ejemplo es un comportamiento de ColdFusion que permite obtener acceso a un comportamiento almacenado):</p>
<pre>&lt;CFSTOREDPROC procedure="AddNewBook" 
    datasource=#MM_connection_DSN# 
    username=#MM_connection_USERNAME# 
    password=#MM_connection_PASSWORD#&gt; 
&lt;CFPROCPARAM type="IN" dbvarname="@CategoryId" value="#Form.CategoryID#" 
    cfsqltype="CF_SQL_INTEGER"&gt; 
&lt;CFPROCPARAM type="IN" dbvarname="@ISBN" value="#Form.ISBN#" 
    cfsqltype="CF_SQL_VARCHAR"&gt; 
&lt;/CFSTOREDPROC&gt;</pre>
<p>En este ejemplo, la etiqueta <samp class="codeph">CFSTOREDPROC</samp> puede incluir cero o más etiquetas <samp class="codeph">CFPROCPARAM</samp>.  No obstante, sin soporte para la directiva loop, no existe forma alguna de incluir las etiquetas <samp class="codeph">CFPROCPARAM</samp> dentro de la etiqueta <samp class="codeph">CFSTOREDPROC</samp> insertada.  Si se creara este comportamiento de servidor sin utilizar la directiva loop, tendría que dividir este ejemplo en dos participantes: una etiqueta <samp class="codeph">CFSTOREDPROC</samp> principal y una etiqueta <samp class="codeph">CFPROCPARAM</samp> cuyo tipo participante es múltiple.</p>
<p>Empleando la directiva loop, puede escribir el mismo procedimiento de la siguiente forma:</p>
<pre>&lt;CFSTOREDPROC procedure="@@procedure@@" 
datasource=#MM_@@conn@@_DSN# 
username=#MM_@@conn@@_USERNAME# 
password=#MM_@@conn@@_PASSWORD#&gt; 
&lt;@ loop (@@paramName@@,@@value@@,@@type@@) @&gt; 
    &lt;CFPROCPARAM type="IN" 
    dbvarname="@@paramName@@" 
    value="@@value@@" 
    cfsqltype="@@type@@"&gt; 
&lt;@ endloop @&gt; 
&lt;/CFSTOREDPROC&gt;</pre>
<div class="para"><div class="note"><span class="notetitle">Nota:  </span>Se omitirán las líneas nuevas situadas después de cada “@&gt;”.</div>
</div>
<p>Si el usuario introdujera los siguientes valores de parámetros en el cuadro de diálogo Creador de comportamientos de servidor:</p>
<pre>procedure = "proc1" 
conn = "connection1" 
paramName = ["@CategoryId", "@Year", "@ISBN"] 
value = ["#Form.CategoryId#", "#Form.Year#", "#Form.ISBN#"] 
type = ["CF_SQL_INTEGER", "CF_SQL_INTEGER", "CF_SQL_VARCHAR"]</pre>
<p>El comportamiento de servidor insertaría en la página el siguiente código de tiempo de ejecución:</p>
<pre>&lt;CFSTOREDPROC procedure="proc1" 
datasource=#MM_connection1_DSN# 
username=#MM_connection1_USERNAME# 
password=#MM_connection1_PASSWORD#&gt; 
&lt;CFPROCPARAM type="IN" dbvarname="@CategoryId" value="#Form.CategoryId#" 
    cfsqltype="CF_SQL_INTEGER"&gt; 
&lt;CFPROCPARAM type="IN" dbvarname="@Year" value="#Form.Year#" 
    cfsqltype="CF_SQL_INTEGER"&gt; 
&lt;CFPROCPARAM type="IN" dbvarname="@ISBN" value="#Form.ISBN#" 
    cfsqltype="CF_SQL_VARCHAR"&gt; 
&lt;/CFSTOREDPROC&gt;</pre>
<div class="note"><span class="notetitle">Nota:  </span>Las matrices de parámetros no pueden utilizarse fuera de un bucle si no son parte de una expresión de directiva condicional.</div>
<div class="section"><h4 class="sectiontitle">Utilización de las variables _length e _index de la directiva loop</h4><p>La directiva loop incluye dos variables incorporadas que puede utilizar para condiciones <samp class="codeph">if</samp> incrustadas.  Dichas variables son: <samp class="codeph">_length</samp> y <samp class="codeph">_index</samp>. La variable <samp class="codeph">_length</samp> se evalúa con respecto a la longitud de las matrices procesadas por la directiva loop, mientras que la variable <samp class="codeph">_index</samp> se evalúa con respecto al índice actual de la directiva loop.  Para asegurarse de que las variables sólo se reconozcan como directivas y no como parámetros que deben pasarse al bucle, no ponga ninguna de estas variables entre <samp class="codeph">@@</samp>. </p>
<p>Un ejemplo de utilización de variables incorporadas consiste en aplicarlas al atributo <samp class="codeph">import</samp> de la directiva de página.  El atributo <samp class="codeph">import</samp> exige la separación de los paquetes mediante comas.  Si la directiva <samp class="codeph">loop</samp> engloba todo el atributo <samp class="codeph">import</samp>, sólo proporcionaría como salida el nombre de atributo <samp class="codeph">import=</samp> en la primera ocurrencia del bucle, incluidas las comillas dobles de cierre ("), y no proporcionaría como salida una coma en la última ocurrencia del bucle. Empleando la variable incorporada, puede expresarlo de la siguiente forma:</p>
<pre>&lt;@loop (@@Import@@)@&gt; 
&lt;@ if(_index == 0)@&gt;import=" 
&lt;@endif@&gt;@@Import@@&lt;@if (_index == _length-1)@&gt;"&lt;@else@&gt;, 
&lt;@ endif @&gt; 
&lt;@endloop@&gt;</pre>
</div>
</div>

                <div id="related">
                    <div class="separator">&#160;</div>
                    
                    
                </div>
                <div id="footer">
                    <p><img src="images/Community.png" />&#160;<a title="ayuda de comunidad (adobe.com)" href="http://www.adobe.com/go/lr_Dreamweaver_community_es">ayuda de comunidad (adobe.com)</a></p>
<!-- BEGIN IONCOMMENTS -->
                    <div id="ionComHere">
                    </div>
<!-- END IONCOMMENTS -->
<!--#include virtual="ionComments.ssi" -->
                    <p id="creativecommons"><a href="http://creativecommons.org/licenses/by-nc-sa/3.0/" id="creativecommons_text"><img id="creativecommons_img" src="images/CC.png" alt="Esta obra obtiene su licencia de una licencia de Atribución-No Comercial-Licenciar Igual 3.0 Unported" /></a></p>
                </div>
            </div>
<!-- END CONTENT WRAPPER -->
</td>
</tr>
</table>
        </div>
<!-- END PAGE CONTENT WRAPPER -->
<script type="text/javascript">
<!--[CDATA[
scrollToNameAnchor();
// ]]-->
</script> 
<!--#include virtual="/livedocs/ssi/globalfooter.ssi" -->
<!--#include virtual="/ubi/analytics/analytics_ssi.html" -->
    </body>
</html>