<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!--#config errmsg="" --><!-- saved from url=(0022)http://help.adobe.com/ -->
<html lang="fr-fr">
    <head>
        <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
        <meta name="lang" content="fr-fr" />
        <meta name="area" content="livedocs" />
        <title>Dreamweaver CS4 * A propos des variables de session</title>
        <meta name="product" content="$product" />
        <meta name="productv" content="" />
        <meta name="keywords" content="" />
        <script type="text/javascript" language="Javascript" charset="UTF-8"><!--[CDATA[
        var currentTreeNode = "WSc78c5058ca073340dcda9110b1f693f21-79a6a.html";
// ]]--></script>
<script src="terms.js" type="text/javascript" language="Javascript" charset="UTF-8">...</script> <script src="help.js" type="text/javascript" language="Javascript" charset="UTF-8">...</script>  <script src="utilities.js" type="text/javascript" language="Javascript" charset="UTF-8">...</script> <script src="event.js" type="text/javascript" language="Javascript" charset="UTF-8">...</script> <script src="treeview.js" type="text/javascript" language="Javascript" charset="UTF-8">...</script> <script src="toc.js" language="Javascript" type="text/javascript" charset="UTF-8">..</script> 
<script type="text/javascript">
<!--[CDATA[
var headId = document.getElementsByTagName("head")[0];         
if (use_ie_6_behavior) {
    var linkId = document.createElement("link");
    linkId.href = "content-ie6.css";
    linkId.rel = "stylesheet";
    linkId.type = "text/css";
    headId.appendChild(linkId);
}
// ]]-->
</script>
<!--#include virtual="/livedocs/ssi/globalheader.ssi" -->
        <link rel="stylesheet" type="text/css" href="tree.css" />
        <link rel="stylesheet" type="text/css" href="content-fonts.css" />
        <link rel="stylesheet" type="text/css" href="content-hyperlinks.css" />
        <link rel="stylesheet" type="text/css" href="content.css" />
        <link rel="stylesheet" type="text/css" href="localeSpecific.css" />
    </head>
    <body id="content_body" onload="window.focus();">
        <a name="top"></a><div id="mnemonic">
            <div class="Dreamweaver"><table><tr><td class="banner">Dreamweaver CS4</td><td class="pod"><img src="images/PDF.gif" width="16" height="16" hspace="15" valign="50%" />&#160;&#160;
                     <a title="PDF" href="http://help.adobe.com/fr_FR/Dreamweaver/10.0_Using/dreamweaver_cs4_help.pdf">
                         PDF (adobe.com) 
                    </a></td></tr></table></div>
        </div>
        <div id="searchbar">
<!-- BEGIN SEARCH CONTENT -->
            <form class="search_form" id="search" name="search" action="search.html" target="_self">
                <img src="images/search.png" />
<script type="text/javascript">
<!--[CDATA[
function clearSearch(){
    if (document.search.q.value == terms_AHV_SEARCH_BUTTON){document.search.q.value = ""}; 
}
document.write('<input class=\"search_input\" \
        name=\"q\" \
        id=\"q\" \
        type=\"text\" \
        maxlength=\"256\" \
        value=\"' + terms_AHV_SEARCH_BUTTON + '\" onclick=\"clearSearch()\"><\/input>'); 
// ]]-->


</script> 
            </form>
        </div>
<!-- BEGIN PAGE CONTENT WRAPPER -->
        <div id="page_content_wrapper">
<!-- BEGIN PAGE WRAPPER -->
<table id="page_content_table">
<tr>
<td id="col1">
<!-- BEGIN IONCOMMENTCOUNT -->
            <div id="ionComCount">
            </div>
<!-- END IONCOMMENTCOUNT -->
<!-- BEGIN GROUP TOC WRAPPER -->
            <div id="group_toc"><p>Ressources de Dreamweaver CS4</p><ul><li><p><a href="../../Dreamweaver/10.0/index.html" target="_blank">Utilisation de Dreamweaver CS4</a></p>
</li><li><p><a href="http://help.adobe.com/fr_FR/Dreamweaver/10.0_Extending/index.html" target="_blank">Extension de Dreamweaver CS4 (adobe.com)</a></p>
</li><li><p><a href="http://help.adobe.com/fr_FR/Dreamweaver/10.0_API_Ref/index.html" target="_blank">Référence de l'API Dreamweaver (adobe.com)</a></p>
</li></ul></div>
<!-- END GROUP TOC WRAPPER -->
<!-- BEGIN NAV WRAPPER -->
            <div id="group_toc">
<script type="text/javascript">
<!--[CDATA[
if ( typeof(terms_BOOK_SHORT) != 'undefined' ) {
  document.write("<p>" + terms_BOOK_SHORT + "<\/p>");
}
// ]]-->


</script> 
            </div>
            <div id="nav_content">
            </div>
<!-- END NAV WRAPPER -->
</td>
<td id="col2">
<!-- BEGIN CONTENT WRAPPER -->
<!-- BEGIN BREADCRUMBS -->
            
            <div id="breadcrumb">
                
<ul class="navigation"><li class="prev"><a accesskey="p" class="prev" href="WSc78c5058ca073340dcda9110b1f693f21-79a2a.html" title="A propos des paramètres d'URL et de formulaire"><img src="images/blank.gif" alt="Précédent" width="17" height="17" /></a></li><li class="next"><a accesskey="n" class="next" href="WSc78c5058ca073340dcda9110b1f693f21-79a0a.html" title="Variables d'application d'ASP et de ColdFusion"><img src="images/blank.gif" alt="Suivant" width="17" height="17" /></a></li></ul><div class="hierarchy"><a href="WSc78c5058ca073340dcda9110b1f693f21-79bea.html">Ajout de contenu dynamique aux pages Web</a> /
     <a href="WSc78c5058ca073340dcda9110b1f693f21-79a6a.html"><b>Présentation des sources de contenu dynamique</b></a> 
     </div>

            </div>
<!-- END BREADCRUMBS -->
            <div id="content_wrapper">
<!-- BEGIN PAGE TITLE -->
                <h1>
                    A propos des variables de session
                </h1>
<!-- END PAGE TITLE -->
                <br clear="both" /><div id="minitoc"><div class="t"><div class="b"><div class="l"><div class="r"><div class="bl"><div class="br"><div class="tl"><div class="tr"><div><h3>Sommaire [<a href="#" onclick="return toggleMiniToc('minitoc-links', this);" class="hideLink">Masquer</a>]</h3><ul id="minitoc-links"><li><p><a href="#WSc78c5058ca073340dcda9110b1f693f21-79c5a"><h4 class="topictitle4">Fonctionnement des variables de session</h4>
</a></p></li><li><p><a href="#WSc78c5058ca073340dcda9110b1f693f21-79c1a"><h4 class="topictitle4">Collecte, stockage et récupération d'informations dans des variables de session</h4>
</a></p></li><li><p><a href="#WSc78c5058ca073340dcda9110b1f693f21-79c0a"><h4 class="topictitle4">Exemple d'informations stockées dans des variables de session</h4>
</a></p></li></ul></div></div><br clear="both" /></div></div></div></div></div></div></div></div><br clear="both" /><div><p>Les variables de session permettent de stocker et d'afficher des informations conservées pendant toute la durée de la visite (ou session) de l'utilisateur. Le serveur crée un objet de session différent pour chaque utilisateur et le conserve pendant une période définie ou jusqu'à ce qu'il soit explicitement clos. </p>
<p>Comme les variables de session sont conservées pendant toute la session de l'utilisateur, même lorsque celui-ci passe d'une page à l'autre dans le site Web, elles conviennent parfaitement au stockage des préférences de l'utilisateur. Les variables de session peuvent également être utilisées pour insérer une valeur dans le code HTML de la page, attribuer une valeur à une variable locale ou fournir une valeur permettant d'évaluer une expression conditionnelle.</p>
<p>Avant de définir des variables de session pour une page, vous devez les créer dans le code source. Après avoir créé une variable de session dans le code source de l'application Web, vous pouvez utiliser Dreamweaver pour récupérer sa valeur et l'utiliser dans une page Web. </p>
</div>
<div id="WSc78c5058ca073340dcda9110b1f693f21-79c5a" class="nochunk"><a name="WSc78c5058ca073340dcda9110b1f693f21-79c5a"></a><h3 class="topictitle3">Fonctionnement des variables de session</h3><div><p>Les variables de session stockent des informations (très souvent des paramètres de formulaire ou d'URL envoyés par les utilisateurs) et les rendent accessibles à toutes les pages de l'application pendant la durée de la visite d'un utilisateur. Ainsi, lorsqu'un utilisateur se connecte à un portail&#160;Web lui donnant accès à une messagerie, des cours boursiers, des bulletins météo et des dossiers d'actualité, l'application&#160;Web stocke les informations de connexion dans une variable de session qui identifie l'utilisateur dans toutes les pages du site. Cela permet à l'utilisateur de ne voir que le type de contenu qu'il a sélectionné pendant qu'il parcourt le site. Les variables de session peuvent également proposer un mécanisme de sécurité en mettant fin à la session d'un utilisateur si le compte reste inactif pendant un certain temps. Cette méthode présente aussi l'avantage de libérer les ressources de traitement et la mémoire du serveur lorsque les utilisateurs oublient de se déconnecter d'un site Web.</p>
<p>Les variables de session stockent les informations pendant toute la durée de la session d'un utilisateur. La session commence lorsque l'utilisateur ouvre une page dans l'application et se termine lorsqu'il n'ouvre pas d'autre page dans l'application pendant un laps de temps donné ou lorsqu'il met explicitement fin à la session (en général, en cliquant sur un lien de déconnexion). Tant qu'elle existe, la session est spécifique à un utilisateur donné&#160;; chaque utilisateur dispose donc d'une session qui lui est propre.</p>
<p>Faites appel aux variables de session pour stocker des informations auxquelles chaque page de l'application&#160;Web doit pouvoir accéder. Ces informations peuvent aller du nom de l'utilisateur à ses préférences pour la taille des polices à l'écran, en passant par un indicateur signalant la réussite ou l'échec de sa connexion. Les variables de session sont également souvent utilisées pour assurer le suivi d'un comptage cumulatif, tel que le nombre de questions auxquelles un utilisateur a répondu correctement jusqu'à présent dans un quiz en ligne ou les produits qu'il a sélectionnés dans un catalogue en ligne.</p>
<p>Les variables de session ne peuvent fonctionner que si le navigateur de l'utilisateur est configuré pour accepter les cookies. Le serveur crée un numéro d'ID de session qui permet l'identification univoque de l'utilisateur lors de l'initialisation de la première session, puis envoie au navigateur de l'utilisateur un cookie contenant ce numéro d'ID. Lorsque l'utilisateur demande une nouvelle page située sur le serveur, celui-ci lit le cookie dans le navigateur pour identifier l'utilisateur et récupérer ses variables de session personnelles, stockées en mémoire. </p>
</div></div>
<div id="WSc78c5058ca073340dcda9110b1f693f21-79c1a" class="nochunk"><a name="WSc78c5058ca073340dcda9110b1f693f21-79c1a"></a><h3 class="topictitle3">Collecte, stockage et récupération d'informations dans des variables de session</h3><div><p>Avant de créer une variable de session, vous devez commencer par obtenir les informations à stocker, puis les envoyer au serveur pour stockage. Vous pouvez recueillir et envoyer des informations au serveur à l'aide de formulaires&#160;HTML ou de liens hypertexte contenant des paramètres d'URL. Vous pouvez également obtenir des informations à partir d'une base de données, des cookies stockés dans l'ordinateur d'un utilisateur ou des en-têtes&#160;HTTP envoyés par son navigateur avec une demande de page.</p>
<p>Un catalogue de produits utilisant des paramètres d'URL figés dans le code et créés à l'aide d'un lien pour renvoyer des informations sur les produits au serveur afin qu'elles soient stockées dans une variable de session est un exemple typique de stockage de paramètres d'URL dans les variables de session. Quand un utilisateur clique sur le lien «&#160;Add to shopping cart&#160;» (Ajouter au panier), l'ID du produit est stockée dans une variable de session pendant que l'utilisateur poursuit ses achats. Lorsqu'il passe à la page de paiement, l'ID du produit stockée dans la variable de session est récupérée. </p>
<p>Un sondage reposant sur un formulaire est un exemple typique de page stockant les paramètres de formulaire dans les variables de session. Le formulaire renvoie l'information sélectionnée au serveur, où une page d'application note le sondage et stocke les réponses dans une variable de session, afin, par exemple, de les transmettre à une application qui regroupe les réponses de toutes les personnes ayant répondu au sondage. Il est également possible que les informations soient stockées dans une base de données pour être utilisées ultérieurement.</p>
<p>Une fois que vous avez envoyé les informations au serveur, vous pouvez les stocker dans des variables de session en ajoutant à la page spécifiée par le paramètre de formulaire ou d'URL le code adapté à votre modèle de serveur. Appelée page de <dfn class="term">destination</dfn>, cette page est spécifiée soit dans l'attribut <samp class="codeph">action</samp> du formulaire&#160;HTML, soit dans l'attribut&#160;<samp class="codeph">href</samp> du lien hypertexte situé dans la première page. </p>
<p>Après avoir stocké une valeur dans une variable de session, vous pouvez utiliser Dreamweaver pour la récupérer et l'utiliser dans une application&#160;Web. Après avoir défini la variable de session dans Dreamweaver, vous pouvez en insérer la valeur dans une page. </p>
<p>La syntaxe&#160;HTML de chaque attribut se présente comme suit&#160;:</p>
<pre>&lt;form action="<var class="varname">destination.html</var>" method="get" name="<var class="varname">myform</var>"&gt; &lt;/form&gt; 
&lt;param name="href"value="<dfn class="term">destination.html</dfn>"&gt;</pre>
<p>Le choix de la technologie serveur et de la méthode d'obtention des informations détermine le code utilisé pour stocker les informations dans une variable de session. La syntaxe de base de chaque technologie serveur se présente comme suit&#160;:</p>
<div class="section"><h4 class="sectiontitle">ColdFusion</h4><pre>&lt;CFSET session.<var class="varname">variable_name</var> = value&gt;</pre>
</div>
<div class="section"><h4 class="sectiontitle">ASP</h4><pre>&lt;% Session("<var class="varname">variable_name</var>") = value %&gt;</pre>
<p>L'expression <samp class="codeph">value</samp> correspond en général à une expression de serveur telle que <samp class="codeph">Request.Form("lastname")</samp>. Ainsi, si vous utilisez un paramètre d'URL appelé <samp class="codeph">product</samp> (ou un formulaire HTML avec la méthode <samp class="codeph">GET</samp> et un champ de texte appelé <samp class="codeph">product</samp>) pour recueillir des informations, les instructions suivantes stockent les informations dans une variable de session appelée <samp class="codeph">prodID</samp>&#160;:</p>
</div>
<div class="section"><h4 class="sectiontitle">ColdFusion</h4><pre>&lt;CFSET session.prodID = url.product&gt;</pre>
</div>
<div class="section"><h4 class="sectiontitle">ASP</h4><pre>&lt;% Session("prodID") = Request.QueryString("product") %&gt;</pre>
<p>Si vous utilisez un formulaire&#160;HTML avec la méthode <samp class="codeph">post</samp> et un champ de texte appelé <samp class="codeph">txtProduct</samp> pour recueillir les informations, les instructions suivantes stockent alors ces informations dans la variable de session&#160;:</p>
</div>
<div class="section"><h4 class="sectiontitle">ColdFusion</h4><pre>&lt;CFSET session.prodID = form.txtProduct&gt;</pre>
</div>
<div class="section"><h4 class="sectiontitle">ASP</h4><pre>&lt;% Session("prodID") = Request.Form("txtProduct") %&gt;</pre>
</div>
</div></div>
<div id="WSc78c5058ca073340dcda9110b1f693f21-79c0a" class="nochunk"><a name="WSc78c5058ca073340dcda9110b1f693f21-79c0a"></a><h3 class="topictitle3">Exemple d'informations stockées dans des variables de session</h3><div><p>Vous travaillez sur un site destiné à un vaste public de retraités. Dans Dreamweaver, ajoutez deux liens sur la page d'accueil du site pour que les utilisateurs puissent modifier la taille du texte affiché. Si l'utilisateur souhaite un affichage en caractères plus gros pour un texte plus facile à lire, il lui suffit de cliquer sur un lien&#160;; s'il souhaite un texte de taille standard, il clique sur un autre lien. </p>
<div class="fignone"><img alt="" id="dy_ie_prefs" src="images/dy_ie_prefs.png" /><div class="figdesc"></div><br /></div><p>Chaque lien comporte un paramètre d'URL appelé <samp class="codeph">fontsize</samp>. Il envoie au serveur la préférence de texte de l'utilisateur, comme le montre l'exemple suivant, spécifique à Adobe ColdFusion®&#160;:</p>
<pre>&lt;a href="resort.cfm?fontsize=large"&gt;Larger Text&lt;/a&gt;&lt;br&gt; 
&lt;a href="resort.cfm?fontsize=small"&gt;Normal Text&lt;/a&gt;</pre>
<p>Stockez la préférence de texte de l'utilisateur dans une variable de session et de l'utiliser afin de définir la taille de police à utiliser dans chaque page demandée par l'utilisateur.</p>
<p>En haut de la page de destination, saisissez le code suivant pour créer une session appelée  <samp class="codeph">font_pref</samp> qui stocke la préférence de l'utilisateur pour la taille de police.</p>
<div class="section"><h4 class="sectiontitle">ColdFusion</h4><pre>&lt;CFSET session.font_pref = url.fontsize&gt;</pre>
</div>
<div class="section"><h4 class="sectiontitle">ASP</h4><pre>&lt;% Session("font_pref") = Request.QueryString("fontsize") %&gt;</pre>
<p>Lorsque l'utilisateur clique sur le lien hypertexte, la page envoie à la page de destination la préférence de texte de l'utilisateur dans un paramètre d'URL. Le code de la page de destination stocke le paramètre d'URL dans la variable de session <samp class="codeph">font_pref</samp>. Pendant la durée de la session de l'utilisateur, toutes les pages de l'application récupèrent cette valeur et affichent la taille de police sélectionnée.</p>
</div>
</div></div>

                <div id="related">
                    <div class="separator">&#160;</div>
                    <div><p><a href="WSc78c5058ca073340dcda9110b1f693f21-7988a.html">Ajout de contenu dynamique dans les pages</a></p><p><a href="WSc78c5058ca073340dcda9110b1f693f21-7995a.html">Définition de variables de session</a></p>
</div>
                    
                </div>
                <div id="footer">
                    <p><img src="images/Community.png" />&#160;<a title="Aide des communautés (adobe.fr)" href="http://www.adobe.com/go/lr_Dreamweaver_community_fr">Aide des communautés (adobe.fr)</a></p>
<!-- BEGIN IONCOMMENTS -->
                    <div id="ionComHere">
                    </div>
<!-- END IONCOMMENTS -->
<!--#include virtual="ionComments.ssi" -->
                    <p id="creativecommons"><a href="http://creativecommons.org/licenses/by-nc-sa/3.0/" id="creativecommons_text"><img id="creativecommons_img" src="images/CC.png" alt="Ce produit est distribué sous licence Creative Commons Paternité-Pas d'Utilisation Commerciale-Partage des Conditions Initiales à l'Identique 3.0 Unported" /></a></p>
                </div>
            </div>
<!-- END CONTENT WRAPPER -->
</td>
</tr>
</table>
        </div>
<!-- END PAGE CONTENT WRAPPER -->
<script type="text/javascript">
<!--[CDATA[
scrollToNameAnchor();
// ]]-->
</script> 
<!--#include virtual="/livedocs/ssi/globalfooter.ssi" -->
<!--#include virtual="/ubi/analytics/analytics_ssi.html" -->
    </body>
</html>